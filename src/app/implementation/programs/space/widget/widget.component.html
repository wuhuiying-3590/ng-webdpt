<!-- 主布局 -->
<nz-layout class="widget-layout">
  <header class="widget-header">
    <div class="header-left">
      <button nz-button nzType="text" (click)="goBack()">
        <i nz-icon [nzIconfont]="'icon-left'"></i>
      </button>
      <span class="title">{{ title }}</span>
      <span class="save-time">{{ saveTime }}</span>
    </div>
    <div class="header-right">
      <button nz-button class="save-btn" (click)="saveTemporary()">暂存</button>
      <button
        nz-button
        nzType="primary"
        class="template-btn"
        (click)="saveAsTemplate()"
      >
        保存为模板
      </button>
    </div>
  </header>
  <nz-layout class="main-content">
    <!-- 左侧组件面板 -->
    <app-component-panel
      [hidden]="!showLeft"
      class="left-panel"
      (closePanel)="handleCloseLeftPanel()"
    >
    </app-component-panel>
    <button
      [hidden]="showLeft"
      nz-button
      nzType="text"
      class="panel-btn"
      (click)="handleOpenLeftPanel()"
    >
      <i nz-icon [nzIconfont]="'icon-right-panel'"></i>
    </button>

    <!-- 中间画布区域 -->
    <app-design-canvas
      class="canvas-area hide-scrollbar"
      [root]="root"
      [treeData]="treeData"
    >
    </app-design-canvas>

    <!-- 右侧属性面板 -->
    <app-property-panel
      [hidden]="!showRight"
      class="right-panel"
      (closePanel)="handleCloseRightPanel()"
    >
    </app-property-panel>
    <button
      [hidden]="showRight"
      nz-button
      nzType="text"
      class="panel-btn panel-btn_right"
      (click)="handleOpenRightPanel()"
    >
      <i nz-icon [nzIconfont]="'icon-left-panel'"></i>
    </button>
  </nz-layout>
</nz-layout>
