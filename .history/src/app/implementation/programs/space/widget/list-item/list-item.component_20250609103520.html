<ng-container *ngFor="let c of components; let c_i = index" [ngSwitch]="c.type">
  <div
    *ngSwitchCase="'columnLayout'"
    class="columnLayout-component"
    [style]="getComponentStyles(c)"
    (click)="selectComponentItem($event, c)"
    (mouseenter)="onMouseEnter($event, c)"
    (mouseleave)="onMouseLeave($event, c)"
    [ngClass]="{ selected: isSelected(c), hover: isHover(c) }"
  >
    <div class="edit-pop" *ngIf="isSelected(c)">
      <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(c)"></i>
      <i
        nz-icon
        [nzIconfont]="'icon-c-delete'"
        (click)="removeComponent(c)"
      ></i>
    </div>
    <div class="columnLayout-child" [style]="getComponentChildStyles(c)">
      <div
        *ngFor="let s of c.children; let s_i = index"
        class="slot-component"
        [style]="getComponentStyles(s)"
        (click)="selectComponentItem($event, s)"
        (mouseenter)="onMouseEnter($event, s)"
        (mouseleave)="onMouseLeave($event, s)"
        [ngClass]="{
          selected: isSelected(s),
          hover: isHover(s),
          empty: isEmpty(s)
        }"
      >
        <div class="edit-pop" *ngIf="isSelected(s)">
          <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(s)"></i>
          <i
            *ngIf="c.children.length > 1"
            nz-icon
            [nzIconfont]="'icon-c-delete'"
            (click)="removeComponent(s)"
          ></i>
        </div>
        <app-list-item
          class="slot-child"
          *ngIf="s?.children?.length > 0"
          [components]="s.children"
          [style]="getComponentChildStyles(s)"
          [sortablejs]="s.children"
          [sortablejsOptions]="sortablejsOptions"
        ></app-list-item>
      </div>
    </div>
  </div>
  <div
    *ngSwitchCase="'columnLayout1_1_1'"
    class="columnLayout1_1_1-component"
    [style]="getComponentStyles(c)"
    (click)="selectComponentItem($event, c)"
    (mouseenter)="onMouseEnter($event, c)"
    (mouseleave)="onMouseLeave($event, c)"
    [ngClass]="{ selected: isSelected(c), hover: isHover(c) }"
  >
    <div class="edit-pop" *ngIf="isSelected(c)">
      <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(c)"></i>
      <i
        nz-icon
        [nzIconfont]="'icon-c-delete'"
        (click)="removeComponent(c)"
      ></i>
    </div>
    <div class="columnLayout1_1_1-child" [style]="getComponentChildStyles(c)">
      <div
        *ngFor="let s of c.children; let s_i = index"
        class="slot-component"
        [style]="getComponentStyles(s)"
        (click)="selectComponentItem($event, s)"
        (mouseenter)="onMouseEnter($event, s)"
        (mouseleave)="onMouseLeave($event, s)"
        [ngClass]="{
          selected: isSelected(s),
          hover: isHover(s),
          empty: isEmpty(s)
        }"
      >
        <div class="edit-pop" *ngIf="isSelected(s)">
          <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(s)"></i>
          <i
            *ngIf="c.children.length > 1"
            nz-icon
            [nzIconfont]="'icon-c-delete'"
            (click)="removeComponent(s)"
          ></i>
        </div>
        <app-list-item
          class="slot-child"
          *ngIf="s?.children?.length > 0"
          [components]="s.children"
          [style]="getComponentChildStyles(s)"
          [sortablejs]="s.children"
          [sortablejsOptions]="sortablejsOptions"
        ></app-list-item>
      </div>
    </div>
  </div>
  <div
    *ngSwitchCase="'scrollLayout'"
    class="scrollLayout-component"
    [style]="getComponentStyles(c)"
    (click)="selectComponentItem($event, c)"
    (mouseenter)="onMouseEnter($event, c)"
    (mouseleave)="onMouseLeave($event, c)"
    [ngClass]="{ selected: isSelected(c), hover: isHover(c) }"
  >
    <div class="edit-pop" *ngIf="isSelected(c)">
      <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(c)"></i>
      <i
        nz-icon
        [nzIconfont]="'icon-c-delete'"
        (click)="removeComponent(c)"
      ></i>
    </div>
    <div
      class="scrollLayout-child"
      [style]="getComponentChildStyles(c)"
      #scrollElem
    >
      <div
        *ngFor="let s of c.children; let s_i = index"
        class="slot-component"
        [style]="getComponentStyles(s)"
        #slotElem
        (click)="
          selectComponentItem($event, s); createObserver(slotElem, scrollElem)
        "
        (mouseenter)="onMouseEnter($event, s)"
        (mouseleave)="onMouseLeave($event, s)"
        [ngClass]="{
          selected: isSelected(s),
          hover: isHover(s),
          empty: isEmpty(s)
        }"
      >
        <div
          class="edit-pop"
          *ngIf="isSelected(s)"
          [style]="getEditPopStyles(slotElem)"
        >
          <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(s)"></i>
          <i
            *ngIf="c.children.length > 1"
            nz-icon
            [nzIconfont]="'icon-c-delete'"
            (click)="removeComponent(s)"
          ></i>
        </div>
        <app-list-item
          class="slot-child"
          *ngIf="s?.children?.length > 0"
          [components]="s.children"
          [style]="getComponentChildStyles(s)"
          [sortablejs]="s.children"
          [sortablejsOptions]="sortablejsOptions"
        ></app-list-item>
      </div>
    </div>
  </div>
  <div
    *ngSwitchCase="'listLayout'"
    class="listLayout-component"
    [style]="getComponentStyles(c)"
    (click)="selectComponentItem($event, c)"
    (mouseenter)="onMouseEnter($event, c)"
    (mouseleave)="onMouseLeave($event, c)"
    [ngClass]="{ selected: isSelected(c), hover: isHover(c) }"
  >
    <div class="edit-pop" *ngIf="isSelected(c)">
      <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(c)"></i>
      <i
        nz-icon
        [nzIconfont]="'icon-c-delete'"
        (click)="removeComponent(c)"
      ></i>
    </div>
    <div class="listLayout-child" [style]="getComponentChildStyles(c)">
      <div
        *ngFor="let s of c.children; let s_i = index"
        class="slot-component"
        [style]="getComponentStyles(s)"
        (click)="selectComponentItem($event, s)"
        (mouseenter)="onMouseEnter($event, s)"
        (mouseleave)="onMouseLeave($event, s)"
        [ngClass]="{
          selected: isSelected(s),
          hover: isHover(s),
          empty: isEmpty(s)
        }"
      >
        <div class="edit-pop" *ngIf="isSelected(s)">
          <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(s)"></i>
          <i
            *ngIf="c.children.length > 1"
            nz-icon
            [nzIconfont]="'icon-c-delete'"
            (click)="removeComponent(s)"
          ></i>
        </div>
        <app-list-item
          class="slot-child"
          [style]="getComponentChildStyles(s)"
          *ngIf="s?.children?.length > 0"
          [components]="s.children"
          [sortablejsOptions]="sortablejsOptions"
          [sortablejs]="s.children"
          [sortablejsOptions]="sortablejsOptions"
        ></app-list-item>
      </div>
    </div>
  </div>
  <div
    *ngSwitchCase="'title'"
    class="title-component"
    [style]="getComponentStyles(c)"
    (click)="selectComponentItem($event, c)"
    (mouseenter)="onMouseEnter($event, c)"
    (mouseleave)="onMouseLeave($event, c)"
    [ngClass]="{ selected: isSelected(c), hover: isHover(c) }"
  >
    <div class="edit-pop" *ngIf="isSelected(c)">
      <!-- <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(c)"></i> -->
      <i
        nz-icon
        [nzIconfont]="'icon-c-delete'"
        (click)="removeComponent(c)"
      ></i>
    </div>
    <div class="title-child" [style]="getComponentChildStyles(c)">
      {{ c.style.content }}
    </div>
  </div>
  <div
    *ngSwitchCase="'text'"
    class="text-component"
    [style]="getComponentStyles(c)"
    (click)="selectComponentItem($event, c)"
    (mouseenter)="onMouseEnter($event, c)"
    (mouseleave)="onMouseLeave($event, c)"
    [ngClass]="{ selected: isSelected(c), hover: isHover(c) }"
  >
    <div class="edit-pop" *ngIf="isSelected(c)">
      <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(c)"></i>
      <i
        nz-icon
        [nzIconfont]="'icon-c-delete'"
        (click)="removeComponent(c)"
      ></i>
    </div>
    <div class="text-child" [style]="getComponentChildStyles(c)">
      {{ c.style.content }}
    </div>
  </div>
  <div
    *ngSwitchCase="'divider'"
    class="divider-component"
    (click)="selectComponentItem($event, c)"
    (mouseenter)="onMouseEnter($event, c)"
    (mouseleave)="onMouseLeave($event, c)"
    [ngClass]="{ selected: isSelected(c), hover: isHover(c) }"
  >
    <div class="edit-pop" *ngIf="isSelected(c)">
      <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(c)"></i>
      <i
        nz-icon
        [nzIconfont]="'icon-c-delete'"
        (click)="removeComponent(c)"
      ></i>
    </div>
    <div class="divider-child" [style]="getComponentChildStyles(c)">
      {{ c.style.content }}
    </div>
  </div>
  <div
    *ngSwitchCase="'image'"
    class="image-component"
    (click)="selectComponentItem($event, c)"
    (mouseenter)="onMouseEnter($event, c)"
    (mouseleave)="onMouseLeave($event, c)"
    [ngClass]="{ selected: isSelected(c), hover: isHover(c) }"
    #slotElem
  >
    <div
      class="edit-pop"
      *ngIf="isSelected(c)"
      [style]="getEditPopStyles(slotElem)"
    >
      <i nz-icon [nzIconfont]="'icon-c-add'" (click)="addComponent(c)"></i>
      <i
        nz-icon
        [nzIconfont]="'icon-c-delete'"
        (click)="removeComponent(c)"
      ></i>
    </div>
    <div class="image-child" [style]="getComponentChildStyles(c)">
      <img [src]="c.style.src" alt="" />
    </div>
  </div>
  <div *ngSwitchCase="'button'" class="button-component">
    <button nz-button nzType="primary">按钮</button>
  </div>

  <div *ngSwitchDefault>{{ tree.name }}</div>
</ng-container>
